name: Update Stoic Quotes
on:
  schedule:
    - cron: '0 0 * * *' # Run the job every day at midnight UTC

jobs:
  generate-quote:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v2
      - name: Generate quote
        run: curl -H "Authorization: Bearer ${{ secrets.STOIC_API_KEY }}" https://stoicquotesapi.com/v1/api/quotes/random > quote.txt
      - name: Update README
        uses: Yushi5058/README.md
        with:
        README.md-path: README.md
        add-text: |
        # 💭 𝙳𝚊𝚒𝚕𝚢 𝚂𝚝𝚘𝚒𝚌 𝚁𝚊𝚗𝚍𝚘𝚖 𝚀𝚞𝚘𝚝𝚎

        `$(cat quote.txt)``

        Last updated: ${{ github.event.repository.updated_at }}