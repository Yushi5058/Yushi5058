name: Update Stoic Quotes
on:
  # Thinking about the planet ! No need to update stats too frequently
  schedule: [{cron: "0 16 * * *"}]
  # The following line lets you run workflow manually from the action tab!
  workflow_dispatch:
jobs:
  update-quotes:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
      - name: Generate quote
        run: curl https://stoicquotesapi.com/v1/api/quotes/random > quote.txt
      - name: Metrics embed
        uses: lowlighter/metrics@v3.32
        with:
          config: |
            custom_metric:
              description: "Random Stoic Quote"
              fields:
                quote: "$(cat quote.txt)"
